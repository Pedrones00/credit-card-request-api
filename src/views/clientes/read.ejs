<!DOCTYPE html>
<html lang="pt-BR" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" sizes="any">
    <title>
        <%= titulo %>
    </title>
    <link href="/output.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindplus/elements@1" type="module"></script>
    <script type="module">
        // Quando a página for carregada, adiciona o evento de clique ao botão "Voltar"
        document.addEventListener('DOMContentLoaded', function () {
            // Seleciona o botão "Voltar" e o elemento de diálogo
            const botao_voltar = document.getElementById('voltar');
            const dialog = document.getElementById('dialog');

            // Quando o botão "Voltar" for clicado, mostra o diálogo
            botao_voltar.addEventListener('click', function (e) {
                e.preventDefault();
                dialog.show();
            });
        });
    </script>
</head>


<body class="h-full bg-gray-50 dark:bg-gray-900">

    <%- include('../partials/header') %>

        <main class="py-10 lg:pl-72">
            <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <div class="mx-auto max-w-3xl">
                    <h2 class="font-medium text-xl text-gray-500 dark:text-white">Visualização de dados do cliente</h2>

                    <form class="bg-white max-w-2xl rounded-lg shadow-xs outline outline-gray-900/5 sm:rounded-xl md:col-span-2 dark:bg-gray-800/50 dark:shadow-none dark:-outline-offset-1 dark:outline-white/10 mt-6">
                        <!-- Form fields -->
                        <div class="px-4 py-6 sm:p-8">
                            <!-- Nome-->
                            <div>
                                <label for="nome" class="block text-sm/6 font-medium text-gray-900 dark:text-white">Nome</label>
                                <div class="mt-2">
                                    <input id="nome" value="<%= cliente.nome %>" type="text" name="nome" class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6 dark:bg-white/5 dark:text-white dark:outline-white/10 dark:placeholder:text-gray-500 dark:focus:outline-indigo-500 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500 disabled:outline-gray-200 dark:disabled:bg-white/10 dark:disabled:text-gray-500 dark:disabled:outline-white/5" disabled />
                                </div>
                            </div>

                            <!-- CPF -->
                            <div class="mt-8">
                                <label for="cpf" class="block text-sm/6 font-medium text-gray-900 dark:text-white">CPF</label>
                                <div class="mt-2">
                                    <input id="cpf" type="text" name="cpf" value="<%= cliente.cpf %>" class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6 dark:bg-white/5 dark:text-white dark:outline-white/10 dark:placeholder:text-gray-500 dark:focus:outline-indigo-500 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500 disabled:outline-gray-200 dark:disabled:bg-white/10 dark:disabled:text-gray-500 dark:disabled:outline-white/5" disabled />
                                </div>
                            </div>

                            <!-- Email -->
                            <div class="mt-8">
                                <label for="email" class="block text-sm/6 font-medium text-gray-900 dark:text-white">Email</label>
                                <div class="mt-2">
                                    <input id="email" type="email" name="email" value="<%= cliente.email %>" class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6 dark:bg-white/5 dark:text-white dark:outline-white/10 dark:placeholder:text-gray-500 dark:focus:outline-indigo-500 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500 disabled:outline-gray-200 dark:disabled:bg-white/10 dark:disabled:text-gray-500 dark:disabled:outline-white/5" disabled />
                                </div>
                            </div>

                            <!-- Data de Nascimento -->
                            <div class="mt-8">
                                <label for="dt_nascimento" class="block text-sm/6 font-medium text-gray-900 dark:text-white">Data de nascimento</label>
                                <div class="mt-2">
                                    <input id="dt_nascimento" type="date" name="dt_nascimento" value="<%= cliente.dt_nascimento %>" class="block w-full rounded-md bg-white  px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6 dark:bg-white/5 dark:text-white dark:outline-white/10 dark:placeholder:text-gray-500 dark:focus:outline-indigo-500 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500 disabled:outline-gray-200 dark:disabled:bg-white/10 dark:disabled:text-gray-500 dark:disabled:outline-white/5" disabled />
                                </div>
                            </div>

                        </div>

                        <!-- Action buttons -->
                        <div class="flex items-center justify-end gap-x-4 border-t border-gray-900/10 px-4 py-4 sm:px-8 dark:border-white/10">
                            <a id="voltar" onclick="window.history.back()" class="rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs inset-ring inset-ring-gray-300 hover:cursor-pointer hover:bg-gray-50 dark:bg-white/10 dark:text-white dark:shadow-none dark:inset-ring-white/5 dark:hover:bg-white/20 ">Voltar</a>
                            <a href="/clientes/editar/<%= cliente.id_cliente %>" class="rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 dark:bg-indigo-500 dark:shadow-none dark:hover:bg-indigo-400 dark:focus-visible:outline-indigo-500 hover:cursor-default">Editar</a>
                        </div>
                    </form>

                    <% if (cliente.contratos.length> 0) { %>
                        <h3 class="dark:text-white font-medium text-lg text-gray-500 mt-10">
                            <% if (cliente.contratos.length> 1) { %>
                                Cartões de crédito contratados
                                <% } else { %>
                                    Cartão de crédito contratado
                                    <% } %>
                        </h3>
                        <!-- Cards -->
                        <ul role="list" class="flex max-w-2xl flex-wrap justify-between gap-4 md:gap-6 lg:gap-8 mt-6">
                            <% for(const contrato of cliente.contratos) { %>
                                <% const cartao=contrato.cartao; %>
                                    <!-- Card item -->
                                    <li class="aspect-video w-72 flex rounded-lg truncate shadow-xs hover:shadow-md transition-shadow ease-in-out duration-500 dark:shadow-none">
                                        <div class="hidden sm:flex w-16 shrink-0 items-center justify-center rounded-l-lg bg-indigo-600 dark:bg-indigo-700 text-sm font-medium text-white">
                                            #<%= cartao.id_cartao %>
                                        </div>
                                        <div class="flex rounded-lg flex-1 items-center justify-between truncate sm:rounded-r-lg border sm:border-0-l border-gray-200 bg-white dark:border-white/10 dark:bg-gray-800/50">
                                            <div class="flex-1 truncate p-4 sm:p-6 text-sm sm:text-sm space-y-1 sm:space-y-2">
                                                <p class="text-indigo-500 dark:text-indigo-400 font-medium sm:hidden">#<%= cartao.id_cartao %>
                                                </p>
                                                <a href="/cartoes/visualizar/<%= cartao.id_cartao %>" class="font-medium text-gray-900 hover:text-gray-600 block text-sm line-clamp-1 dark:text-white dark:hover:text-gray-200">
                                                    <%= cartao.nome %>
                                                </a>
                                                <p class="text-gray-500 dark:text-gray-400">
                                                    <%= cartao.tipo==="credito" ? "Crédito" : "Débito" %>
                                                </p>
                                                <p class="text-gray-500 dark:text-gray-400">
                                                    R$ <%= Number(cartao.anuidade).toFixed(2).replace('.', ',' ) %> <span class="text-xs sm:text-sm text-gray-400 dark:text-gray-500">/ ano</span>
                                                </p>

                                                <div class="w-full flex items-center justify-between pt-2">
                                                    <div>
                                                        <% if (!cartao.cartao_ativo) { %>
                                                            <div class="rounded-full w-fit bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-red-600/10 ring-inset dark:bg-red-500/10 dark:text-red-400 dark:ring-red-500/10">Inativo</div>
                                                            <% } else { %>
                                                                <div class="rounded-full w-fit bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-green-600/10 ring-inset dark:bg-green-500/10 dark:text-green-400 dark:ring-green-500/10">Ativo</div>
                                                                <% } %>
                                                    </div>
                                                    <div>
                                                        <span class="sr-only">Bandeira</span>
                                                        <% if ( cartao.bandeira==="Visa" ) { %>
                                                            <span class="sr-only">Visa</span>
                                                            <div title="Visa">
                                                                <svg xmlns=" http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 640 640" class="size-10 text-gray-500 dark:text-gray-400 inline-block" aria-hidden="true">
                                                                    <!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                                                                    <path d="M502.1 295.3C502.1 295.3 509.7 332.5 511.4 340.3L478 340.3C481.3 331.4 494 296.8 494 296.8C493.8 297.1 497.3 287.7 499.3 281.9L502.1 295.3zM608 144L608 496C608 522.5 586.5 544 560 544L80 544C53.5 544 32 522.5 32 496L32 144C32 117.5 53.5 96 80 96L560 96C586.5 96 608 117.5 608 144zM184.5 395.2L247.7 240L205.2 240L165.9 346L161.6 324.5L147.6 253.1C145.3 243.2 138.2 240.4 129.4 240L64.7 240L64 243.1C79.8 247.1 93.9 252.9 106.2 260.2L142 395.2L184.5 395.2zM278.9 395.4L304.1 240L263.9 240L238.8 395.4L278.9 395.4zM418.8 344.6C419 326.9 408.2 313.4 385.1 302.3C371 295.2 362.4 290.4 362.4 283.1C362.6 276.5 369.7 269.7 385.5 269.7C398.6 269.4 408.2 272.5 415.4 275.6L419 277.3L424.5 243.7C416.6 240.6 404 237.1 388.5 237.1C348.8 237.1 320.9 258.3 320.7 288.5C320.4 310.8 340.7 323.2 355.9 330.7C371.4 338.3 376.7 343.3 376.7 350C376.5 360.4 364.1 365.2 352.6 365.2C336.6 365.2 328 362.7 314.9 356.9L309.6 354.4L304 389.3C313.4 393.6 330.8 397.4 348.8 397.6C391 397.7 418.5 376.8 418.8 344.6zM560 395.4L527.6 240L496.5 240C486.9 240 479.6 242.8 475.5 252.9L415.8 395.4L458 395.4C458 395.4 464.9 376.2 466.4 372.1L518 372.1C519.2 377.6 522.8 395.4 522.8 395.4L560 395.4z" />
                                                                </svg>
                                                            </div>
                                                            <% } else if ( cartao.bandeira==="Mastercard" ) { %>
                                                                <span class="sr-only">Mastercard</span>
                                                                <div title="Mastercard">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" fill="currentColor" class="size-10 text-gray-500 dark:text-gray-400 inline-block" aria-hidden="true"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                                                                        <path d="M514.9 474.3C514.9 481.1 510.3 486 503.7 486C496.9 486 492.5 480.8 492.5 474.3C492.5 467.8 496.9 462.6 503.7 462.6C510.3 462.6 514.9 467.8 514.9 474.3zM204.1 462.6C197 462.6 192.9 467.8 192.9 474.3C192.9 480.8 197 486 204.1 486C210.6 486 215 481.1 215 474.3C214.9 467.8 210.6 462.6 204.1 462.6zM321.6 462.3C316.2 462.3 312.9 465.8 312.1 471L331.2 471C330.3 465.3 326.8 462.3 321.6 462.3zM429.4 462.6C422.6 462.6 418.5 467.8 418.5 474.3C418.5 480.8 422.6 486 429.4 486C436.2 486 440.6 481.1 440.6 474.3C440.6 467.8 436.2 462.6 429.4 462.6zM535.3 488.7C535.3 489 535.6 489.2 535.6 489.8C535.6 490.1 535.3 490.3 535.3 490.9C535 491.2 535 491.4 534.8 491.7C534.5 492 534.3 492.2 533.7 492.2C533.4 492.5 533.2 492.5 532.6 492.5C532.3 492.5 532.1 492.5 531.5 492.2C531.2 492.2 531 491.9 530.7 491.7C530.4 491.4 530.2 491.2 530.2 490.9C529.9 490.4 529.9 490.1 529.9 489.8C529.9 489.3 529.9 489 530.2 488.7C530.2 488.2 530.5 487.9 530.7 487.6C531 487.3 531.2 487.3 531.5 487.1C532 486.8 532.3 486.8 532.6 486.8C533.1 486.8 533.4 486.8 533.7 487.1C534.2 487.4 534.5 487.4 534.8 487.6C535.1 487.8 535 488.2 535.3 488.7zM533.1 490.1C533.6 490.1 533.6 489.8 533.9 489.8C534.2 489.5 534.2 489.3 534.2 489C534.2 488.7 534.2 488.5 533.9 488.2C533.6 488.2 533.4 487.9 532.8 487.9L531.2 487.9L531.2 491.4L532 491.4L532 490L532.3 490L533.4 491.4L534.2 491.4L533.1 490.1zM608 145L608 497C608 523.5 586.5 545 560 545L80 545C53.5 545 32 523.5 32 497L32 145C32 118.5 53.5 97 80 97L560 97C586.5 97 608 118.5 608 145zM96 284.6C96 361.1 158.1 423.1 234.5 423.1C261.7 423.1 288.4 414.9 311 400C238.1 340.7 238.6 228.8 311 169.5C288.4 154.5 261.7 146.4 234.5 146.4C158.1 146.3 96 208.4 96 284.6zM320 393.4C390.5 338.4 390.2 231.2 320 175.9C249.8 231.2 249.5 338.5 320 393.4zM177.7 469.7C177.7 461 172 455.3 163 455C158.4 455 153.5 456.4 150.2 461.5C147.8 457.4 143.7 455 138 455C134.2 455 130.4 456.4 127.4 460.4L127.4 456L119.2 456L119.2 492.7L127.4 492.7C127.4 473.8 124.9 462.5 136.4 462.5C146.6 462.5 144.6 472.7 144.6 492.7L152.5 492.7C152.5 474.4 150 462.5 161.5 462.5C171.7 462.5 169.7 472.5 169.7 492.7L177.9 492.7L177.9 469.7L177.7 469.7zM222.6 456L214.7 456L214.7 460.4C212 457.1 208.2 455 203 455C192.7 455 184.8 463.2 184.8 474.3C184.8 485.5 192.7 493.6 203 493.6C208.2 493.6 212 491.7 214.7 488.2L214.7 492.8L222.6 492.8L222.6 456zM263.1 481.6C263.1 466.6 240.2 473.4 240.2 466.4C240.2 460.7 252.1 461.6 258.7 465.3L262 458.8C252.6 452.7 231.8 452.8 231.8 467C231.8 481.3 254.7 475.3 254.7 482C254.7 488.3 241.2 487.8 234 482.8L230.5 489.1C241.7 496.7 263.1 495.1 263.1 481.6zM298.5 490.9L296.3 484.1C292.5 486.2 284.1 488.5 284.1 480L284.1 463.4L297.2 463.4L297.2 456L284.1 456L284.1 444.8L275.9 444.8L275.9 456L268.3 456L268.3 463.3L275.9 463.3L275.9 480C275.9 497.6 293.2 494.4 298.5 490.9zM311.8 477.5L339.3 477.5C339.3 461.3 331.9 454.9 321.9 454.9C311.3 454.9 303.7 462.8 303.7 474.2C303.7 494.7 326.3 498.1 337.5 488.4L333.7 482.4C325.9 488.8 314.1 488.2 311.8 477.5zM370.9 456C366.3 454 359.3 454.2 355.7 460.4L355.7 456L347.5 456L347.5 492.7L355.7 492.7L355.7 472C355.7 460.4 365.2 461.9 368.5 463.6L370.9 456zM381.5 474.3C381.5 462.9 393.1 459.2 402.2 465.9L406 459.4C394.4 450.3 373.3 455.3 373.3 474.4C373.3 494.2 395.7 498.2 406 489.4L402.2 482.9C393 489.4 381.5 485.5 381.5 474.3zM448.2 456L440 456L440 460.4C431.7 449.4 410.1 455.6 410.1 474.3C410.1 493.5 432.5 499 440 488.2L440 492.8L448.2 492.8L448.2 456zM481.9 456C479.5 454.8 470.9 453.1 466.7 460.4L466.7 456L458.8 456L458.8 492.7L466.7 492.7L466.7 472C466.7 461 475.7 461.7 479.5 463.6L481.9 456zM522.2 441.1L514.3 441.1L514.3 460.4C506.1 449.5 484.4 455.3 484.4 474.3C484.4 493.7 506.9 498.9 514.3 488.2L514.3 492.8L522.2 492.8L522.2 441.1zM529.8 366L529.8 370.6L530.6 370.6L530.6 366L532.5 366L532.5 365.2L527.9 365.2L527.9 366L529.8 366zM536.4 489.8C536.4 489.3 536.4 488.7 536.1 488.2C535.8 487.9 535.6 487.4 535.3 487.1C535 486.8 534.5 486.6 534.2 486.3C533.7 486.3 533.1 486 532.6 486C532.3 486 531.8 486.3 531.2 486.3C530.7 486.6 530.4 486.8 530.1 487.1C529.6 487.4 529.3 487.9 529.3 488.2C529 488.7 529 489.3 529 489.8C529 490.1 529 490.6 529.3 491.2C529.3 491.5 529.6 492 530.1 492.3C530.4 492.6 530.6 492.8 531.2 493.1C531.7 493.4 532.3 493.4 532.6 493.4C533.1 493.4 533.7 493.4 534.2 493.1C534.5 492.8 535 492.6 535.3 492.3C535.6 492 535.8 491.5 536.1 491.2C536.4 490.6 536.4 490.1 536.4 489.8zM539.6 365.1L538.2 365.1L536.6 368.6L535 365.1L533.6 365.1L533.6 370.5L534.4 370.5L534.4 366.4L536 369.9L537.1 369.9L538.5 366.4L538.5 370.5L539.6 370.5L539.6 365.1zM544 284.6C544 208.4 481.9 146.3 405.5 146.3C378.3 146.3 351.6 154.5 329 169.4C401.1 228.7 402.2 340.9 329 399.9C351.6 414.9 378.5 423 405.5 423C481.9 423.1 544 361.1 544 284.6z" />
                                                                    </svg>
                                                                </div>
                                                                <% } else { %>
                                                                    <p class="text-gray-500 dark:text-gray-400 h-10 flex items-center">
                                                                        <%= cartao.bandeira %>
                                                                    </p>
                                                                    <% } %>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="shrink-0 pr-2 pt-2 self-baseline">
                                                <el-dropdown class="inline-block">
                                                    <button type="button" class="inline-flex size-8 items-center justify-center rounded-full text-gray-400 hover:text-gray-500 focus:outline-2 focus:outline-offset-2 focus:outline-indigo-600 dark:hover:text-white dark:focus:outline-white">
                                                        <span class="sr-only">Abrir opções</span>
                                                        <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="size-5">
                                                            <path d="M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z" />
                                                        </svg>
                                                    </button>

                                                    <el-menu anchor="bottom end" popover class="w-56  origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black/5 transition transition-discrete [--anchor-gap:--spacing(2)] focus:outline-hidden data-closed:scale-95 data-closed:transform data-closed:opacity-0 data-enter:duration-100 data-enter:ease-out data-leave:duration-75 data-leave:ease-in dark:divide-white/10 dark:bg-gray-800 dark:shadow-none dark:-outline-offset-1 dark:outline-white/10">
                                                        <div class="py-1">
                                                            <a href="/cartoes/visualizar/<%= cartao.id_cartao %>" class="flex items-center px-4 py-2 text-sm text-gray-700 focus:bg-gray-100 focus:text-gray-900 focus:outline-hidden dark:text-gray-300 dark:focus:bg-white/5 dark:focus:text-white">
                                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="mr-3 size-5 text-gray-400 group-focus/item:text-gray-500 dark:text-gray-500 dark:group-focus/item:text-white">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" />
                                                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                                                                </svg>
                                                                Visualizar
                                                            </a>
                                                            <a href="/cartoes/editar/<%= cartao.id_cartao %>" class="flex items-center px-4 py-2 text-sm text-gray-700 focus:bg-gray-100 focus:text-gray-900 focus:outline-hidden dark:text-gray-300 dark:focus:bg-white/5 dark:focus:text-white">
                                                                <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="mr-3 size-5 text-gray-400 group-focus/item:text-gray-500 dark:text-gray-500 dark:group-focus/item:text-white">
                                                                    <path d="m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z" />
                                                                    <path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0 0 10 3H4.75A2.75 2.75 0 0 0 2 5.75v9.5A2.75 2.75 0 0 0 4.75 18h9.5A2.75 2.75 0 0 0 17 15.25V10a.75.75 0 0 0-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5Z" />
                                                                </svg>
                                                                Editar
                                                            </a>
                                                        </div>
                                                    </el-menu>
                                                </el-dropdown>
                                            </div>
                                        </div>
                                    </li>
                                    <% } %>
                        </ul>
                        <% } %>
                </div>
            </div>

        </main>

</body>

</html>